"use strict";angular.module("motologApp",["ngAnimate","ngCookies","ngResource","ui.router","ngSanitize","ngTouch","ui.bootstrap","satellizer","config","toastr","angular-loading-bar"]).config(["$stateProvider","$urlRouterProvider","$authProvider","ENV","toastrConfig",function(a,b,c,d,e){c.twitter({url:d.apiEndpoint+"user/twitterlogin"}),c.google({url:d.apiEndpoint+"user/googleLogin",clientId:"676358682784-716e8rma31akdv7jlksilgr6vsm7ook9.apps.googleusercontent.com"}),a.state("main",{url:"/",templateUrl:"views/main.html",controller:"MainCtrl"}).state("admin",{url:"/admin",templateUrl:"views/admin.html",controller:"AdminCtrl"}).state("dashboard",{url:"/dashboard",templateUrl:"views/dashboard.html",controller:"DashboardCtrl"}).state("vehicle",{url:"/vehicle?id",templateUrl:"views/vehicle.html",controller:"VehicleCtrl"}),b.otherwise("/"),e.positionClass="toast-top-center"}]),angular.module("motologApp").controller("MainCtrl",["$scope","ENV",function(a,b){console.log("I am running in "+b.name)}]),angular.module("motologApp").controller("AdminCtrl",function(){}),angular.module("motologApp").controller("DashboardCtrl",["$scope","$http","toastr","ENV",function(a,b,c,d){function e(){b.get(d.apiEndpoint+"vehicle/myVehicles").then(function(b){a.vehicles=b.data})}function f(){b.post(d.apiEndpoint+"vehicle/addVehicle",{make:a.make,year:new Date(a.year,1,1)}).then(function(){c.success("Vehicle added"),e()}),a.make="",a.year="",a.addVehicleFrm.$setPristine(),a.addVehicleFrm.$setUntouched()}function g(a){b.post(d.apiEndpoint+"vehicle/destroy/"+a.id).then(function(){e()})}a.addVehicle=f,a.deleteVehicle=g,e()}]),angular.module("motologApp").controller("AuthCtrl",["$scope","$auth","$http","ENV",function(a,b,c,d){function e(){c.get(d.apiEndpoint+"user/me").then(function(b){a.me=b.data})}function f(){b.logout()}function g(){b.authenticate("twitter")}function h(){b.authenticate("google").then(function(){e()})}a.isAuthenticated=b.isAuthenticated,a.isAuthenticated()&&e(),a.logout=f,a.twitterLogin=g,a.googleLogin=h}]),angular.module("motologApp").controller("VehicleCtrl",["$scope","$location","$http","toastr","ENV",function(a,b,c,d,e){var f=b.search().id;f&&c.get(e.apiEndpoint+"vehicle/"+f).then(function(b){a.vehicle=b.data},function(a){d.error("Could not find vehicle"),console.log(a)}),a.id=f}]);